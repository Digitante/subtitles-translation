1
00:00:00,560 --> 00:00:03,100
#7: 骨骼

2
00:00:04,760 --> 00:00:09,400
在前面的课程我们学习了如何动画简单的角色。

3
00:00:09,560 --> 00:00:12,700
这技术非常适用于简单的动画。

4
00:00:12,960 --> 00:00:17,830
但缺点是：它不是很适于角色姿态控制。

5
00:00:18,030 --> 00:00:22,280
每一次我们都不得不选择特定的部分，而且只有它可以移动。

6
00:00:22,620 --> 00:00:26,500
此外，我们不得不要全盘考虑创建正确的组的结构。

7
00:00:26,830 --> 00:00:31,830
如果我们的角色稍微复杂一点，那么就不得不创建更多的嵌套的组...

8
00:00:32,000 --> 00:00:34,230
...这让操控变得困难起来。

9
00:00:34,400 --> 00:00:39,560
给角色和其他复杂的结构做动画，你可以采用骨骼。

10
00:00:39,880 --> 00:00:45,760
骨骼能轻而易举创建像这个控制角色的骨架。

11
00:00:49,060 --> 00:00:52,660
现在我要给你展示怎样从零创建这样的结构。

12
00:00:53,020 --> 00:00:56,030
打开"character-2" 文件夹。

13
00:00:57,700 --> 00:01:01,360
我们这里有个完整的角色...

14
00:01:03,420 --> 00:01:06,730
...还有分开的各个部分。

15
00:01:06,900 --> 00:01:11,760
我们先导入完整的图片。用来做参照物。

16
00:01:13,360 --> 00:01:17,000
接着，添加分开的部分。

17
00:01:19,980 --> 00:01:24,600
现在把所有都成组在一起缩小使之适合工作区大小。

18
00:01:30,140 --> 00:01:35,400
现在我们要清理一下。分开各个部分。

19
00:01:43,000 --> 00:01:47,600
为了方便，先把完整的角色变成半透明。

20
00:01:47,860 --> 00:01:54,560
层的透明度是由 "Amount" 参数定义的。把汁设为0.5。

21
00:01:58,020 --> 00:02:01,000
现在我们把各个部分都放到正确的地方。

22
00:02:01,220 --> 00:02:05,530
这是躯干... 头

23
00:02:06,640 --> 00:02:10,030
接着，腿 – 臀...

24
00:02:10,100 --> 00:02:11,860
大腿...

25
00:02:12,040 --> 00:02:14,760
足。

26
00:02:20,960 --> 00:02:25,460
第二条腿好像在躯体之上，很容易纠正的。

27
00:02:25,700 --> 00:02:28,930
只要把它放到后边去。

28
00:02:30,280 --> 00:02:33,660
剩下的其他部分也用同样的方法组装起来

29
00:02:33,940 --> 00:02:37,430
有点意思，像拼图。

30
00:02:42,520 --> 00:02:46,130
不要忘了经常保存你的工作。

31
00:03:00,700 --> 00:03:02,530
完成。

32
00:03:02,880 --> 00:03:07,630
我们不再需要参照层，最好把它隐藏起来。

33
00:03:08,460 --> 00:03:11,100
现在我们可以添加骨架层了。

34
00:03:11,340 --> 00:03:14,680
把它放在这个组里，位于所有的图像层之上。

35
00:03:15,060 --> 00:03:18,530
展开组，选择第一个层。

36
00:03:18,800 --> 00:03:26,280
右键点击，选择"New Layer" > "Other" > "Skeleton".

37
00:03:27,740 --> 00:03:31,060
我们的骨架层出来了，它带有一根骨头。

38
00:03:31,380 --> 00:03:33,860
就是这个。

39
00:03:34,200 --> 00:03:37,830
绿色的点是骨头的原点。

40
00:03:38,120 --> 00:03:42,600
棕色的决定它的角度和长度。

41
00:03:44,360 --> 00:03:46,900
再多创建一跟骨头。

42
00:03:47,060 --> 00:03:53,900
右键点击现有的骨头的任意点然后选择"Create Child Bone".

43
00:03:55,100 --> 00:03:57,230
第二根骨头出现了。

44
00:03:57,300 --> 00:03:59,560
它是第一跟骨头的从属。

45
00:03:59,720 --> 00:04:04,030
看，当我移动第一根骨头，第二根也会跟着移动。

46
00:04:05,000 --> 00:04:08,160
但第二根骨头自己也能动。

47
00:04:08,360 --> 00:04:10,660
这是骨头的层次运作方式。

48
00:04:10,840 --> 00:04:14,000
好，把第一根骨头放到正确的位置。

49
00:04:14,180 --> 00:04:18,330
它负责把控整个角色的位置。

50
00:04:18,530 --> 00:04:22,900
第二根骨头分配给躯体。我们把它放在这里。

51
00:04:24,600 --> 00:04:28,160
因为手臂和头都是应该附属在躯干上...

52
00:04:28,200 --> 00:04:31,060
...我们从躯干骨骼上创建它们的骨头。

53
00:04:31,160 --> 00:04:35,160
右键点击它并选择"Create Child Bone".

54
00:04:42,240 --> 00:04:45,900
现在我们创建前臂的骨头...

55
00:04:49,360 --> 00:04:53,360
...再在其基础上创建用于控制手部的骨头。

56
00:04:53,760 --> 00:04:58,530
对第二条手臂重复这个步骤。

57
00:05:01,140 --> 00:05:07,000
在躯干弯曲时腿应该保持不动的，所以让它们归属到第一根骨头上去。

58
00:05:10,740 --> 00:05:14,830
接着，创建一根用于脚踝和足的骨头。

59
00:05:17,740 --> 00:05:21,430
用同样的方法创建第二条腿的骨头。

60
00:05:27,200 --> 00:05:29,360
骨架准备好了。

61
00:05:29,620 --> 00:05:34,260
不过现在它还不会影响角色的任何部分，只能自己移动。

62
00:05:34,620 --> 00:05:38,760
我们现在要做的是链接全部部件到骨架。

63
00:05:38,960 --> 00:05:43,300
要了解躯干，选择躯体层和骨架。

64
00:05:43,530 --> 00:05:49,660
点击躯体，按下Ctrl点击层列表里的骨架。

65
00:05:49,920 --> 00:05:53,400
接着左键点击躯干层的绿色点。

66
00:05:53,740 --> 00:05:57,160
这样我们明确指示所要链接的部分。

67
00:05:57,380 --> 00:06:03,330
然后右键点击骨骼的任一控制句柄并选择“链接到骨骼”。

68
00:06:04,300 --> 00:06:08,660
完成！躯干链接好了。

69
00:06:12,200 --> 00:06:16,260
用同样的方法把其余的部分也联接起来。

70
00:06:20,380 --> 00:06:24,930
如果链接了错的骨骼上，只要再链接到另外一个上。

71
00:06:25,260 --> 00:06:28,860
就会自动重新联接。

72
00:06:31,400 --> 00:06:35,560
角色准备就绪。试着动动他。

73
00:06:39,280 --> 00:06:44,160
注意，当我拖拉骨骼的一端，骨骼会自动拉伸图像。

74
00:06:44,540 --> 00:06:48,130
这在多数情况下都是有用的。

75
00:06:49,000 --> 00:06:51,900
但是有时这个效果不是我们想要的。

76
00:06:52,040 --> 00:06:57,260
头部就是一个明显的例子：我们可能要bend it，但不要拉伸它。

77
00:06:58,180 --> 00:07:02,300
没问题，这种情形每一个骨骼都有一个蓝色点，这个位置。

78
00:07:02,760 --> 00:07:08,030
它能改变一个骨骼的角度而不影响它的长度。像这样。

79
00:07:09,800 --> 00:07:14,960
即使层链接到了一个骨骼，也不是说它就只能通过骨骼来控制。

80
00:07:15,400 --> 00:07:18,560
用不着担心。我们还是可以通过它自身来移动的。

81
00:07:18,800 --> 00:07:23,600
唯一不同的是，现在是相对于链接的骨骼移动。

82
00:07:23,860 --> 00:07:28,630
骨骼和层的变换合到一起了。

83
00:07:35,560 --> 00:07:38,000
最后，还有一个重要的提示。

84
00:07:38,300 --> 00:07:43,400
角色的所有部分都放在这个我们一开始就做过缩小的组里。

85
00:07:43,560 --> 00:07:46,930
骨架层也是放在这个组里面。

86
00:07:47,180 --> 00:07:53,740
这点非常关键，因为骨架和与之链接的角色各个部分共用同一坐标系。

87
00:07:54,200 --> 00:07:56,740
如果与其外创建骨架...

88
00:07:56,740 --> 00:08:01,200
...各骨骼会有和物体不一致的坐标。

89
00:08:01,430 --> 00:08:03,960
在链接期间你可能会对此视而不见...

90
00:08:04,130 --> 00:08:08,160
...但当你试图改变骨骼的位置，糟糕的事情就将出现无疑。

91
00:08:08,430 --> 00:08:13,000
我们保持并关闭这个文件，让我来向你示范一下这种情形。

92
00:08:14,480 --> 00:08:20,130
我们装配角色的一部分 - 躯干，头和手臂。

93
00:08:29,780 --> 00:08:33,330
假设，我们决定这样装配手臂：...

94
00:08:33,520 --> 00:08:36,000
放在这里...

95
00:08:37,500 --> 00:08:39,830
再成组...

96
00:08:40,500 --> 00:08:43,560
...移动， and also turned.

97
00:08:44,640 --> 00:08:48,700
如你所了解的，手臂的所有部分都会在另外一个坐标系里...

98
00:08:48,900 --> 00:08:52,060
...因为我们已经变换了它的父辈组。

99
00:08:53,420 --> 00:08:57,900
让我们把所有都黏附到一个骨架上。

100
00:09:05,800 --> 00:09:12,700
躯干... 头部... 还有手臂...

101
00:09:16,230 --> 00:09:18,330
...全部都联结好了。

102
00:09:18,640 --> 00:09:21,100
现在试试改变姿势。

103
00:09:21,460 --> 00:09:26,900
如你所见，头部和躯干很好，但是手臂乱套了。

104
00:09:27,880 --> 00:09:31,630
这全都归咎于变换的组。

105
00:09:32,100 --> 00:09:37,300
如果组没有被变换，那么一切安然。不会造成任何状况。

106
00:09:37,530 --> 00:09:40,960
要修复这个问题我们可以把这部分移出这个组...

107
00:09:41,260 --> 00:09:45,060
...并重新对其到骨架上。

108
00:09:54,380 --> 00:09:57,030
不过我们要用另外一个方法。

109
00:09:58,840 --> 00:10:03,930
我们假设我们不需要角色弯曲手腕和肘关节。

110
00:10:04,140 --> 00:10:09,460
一根骨骼对应这条手臂就够了，我们可以把整个组联接给它。

111
00:10:09,580 --> 00:10:11,500
对，你完成了 -

112
00:10:12,000 --> 00:10:16,400
... 和图像层的方法一样，组也可以联接到骨架。

113
00:10:16,600 --> 00:10:20,740
不过，我猜你已经知道每个图像层实质上就是一个组...

114
00:10:21,140 --> 00:10:24,600
...或者，更准确的说，是一个切换组(Switch)。

115
00:10:24,900 --> 00:10:28,930
真正的图像层处于其内部。

116
00:10:30,600 --> 00:10:32,330
我有点岔开话题了。

117
00:10:32,530 --> 00:10:36,660
首先，我们要取消这个组里的全部和骨架的联接。

118
00:10:36,900 --> 00:10:39,360
选择需要的部分...

119
00:10:39,560 --> 00:10:41,860
...找到变换（Transformation）参数...

120
00:10:42,160 --> 00:10:44,600
...右键点击，选择“不联接(Disconnect)"。

121
00:10:44,800 --> 00:10:48,280
是的，这个和我们之前删除参数动画的方法是一样的。

122
00:10:48,530 --> 00:10:51,430
不用觉得奇怪^__^

123
00:10:56,180 --> 00:10:59,530
现在我们链接组。

124
00:11:05,860 --> 00:11:07,760
完成。

125
00:11:09,640 --> 00:11:15,230
好了，就到这里。下一节课，我们要创建角色的行走循环动画。

